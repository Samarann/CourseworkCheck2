function pageLoad(){

    let now = new Date();

    let myHTML = '<div style="text-align: center;">' +
        '<h1>Welcome to my API powered website!</h1>' +
        '<img src="/client/img/logo.png" alt="Logo"/>' +
        '<div style="font-style: italic;">' +
        'Generated at ' + now.toLocaleTimeString() +
        '</div>' +
        '</div>';

    document.getElementById("testDiv").innerHTML = myHTML;

        let HTML = '<table>' +
        '<tr>' +
        '<th>ID</th>' +
        '<th>Name</th>' +
        '</tr>';

        fetch('/client/main', {method: 'get'}).then(response => response.json()).then(client => {
            for (let main of client) {

                myHTML += `<tr>` +
                    `<td>${fruit.id}</td>` +
                    `<td>${fruit.name}</td>` +
                    `<td><img src='/client/img/${fruit.image}'
                    alt='Picture of ${fruit.name}' height='100px'></td>` +
                    `<td><span class="fruitColour"
                    style="background-color:${fruit.colour};"></span></td>` +
                    `<td>${fruit.size}</td>` +
                    `<td class="last">` +
                    `<button class='editButton' data-id='${fruit.id}'>Edit</button>` +
                    `<button class='deleteButton' data-id='${fruit.id}'>Delete</button>` +
                    `</td>` +
                    `</tr>`;

            }

            myHTML += '</table>';

            document.getElementById("listDiv").innerHTML = myHTML;

            let saveButtons = document.getElementsByClassName("saveButton");
            for (let button of saveButtons) {
                button.addEventListener("click", saveButton);
            }

        });

    //document.getElementById("save1Button").addEventListener("click", save1Button);
   // document.getElementById("save2Button").addEventListener("click", cancelEditFruit);

})

    if(window.location.search === '?logout') {
        document.getElementById('content').innerHTML = '<h1>Logging out, please wait...</h1>';
        logout();
    } else {
        document.getElementById("loginButton").addEventListener("click", login);
    }

    function login(event) {

        event.preventDefault();

        const form = document.getElementById("loginForm");
        const formData = new FormData(form);

        fetch("/users/login", {method: 'post', body: formData}
        ).then(response => response.json()
        ).then(responseData => {

            if (responseData.hasOwnProperty('error')) {
                alert(responseData.error);
            } else {
                Cookies.set("username", responseData.username);
                Cookies.set("token", responseData.token);

                window.location.href = '../main.html';
            }
        });
    }

    fetch("/users/logout", {method: 'post'}
    ).then(response => response.json()
    ).then(responseData => {
        if (responseData.hasOwnProperty('error')) {

            alert(responseData.error);

        } else {

            Cookies.remove("username");
            Cookies.remove("token");

            window.location.href = '../main.html';

        }
    });


    //let now = new Date();

    //let myHTML = '<div style="text-align: center;">' +
    //    '<h1>Welcome to my API powered website!</h1>' +
    //    '<img src="/client/img/logo.png" alt="Logo"/>' +
    //    '<div style="front-style: italic;">' +
    //    'Generated at ' + now.toLocaleTimeString() +
    //    '</div>' +
    //    '</div>';

   //     document.getElementById("testDiv").innerHTML = myHTML;
}